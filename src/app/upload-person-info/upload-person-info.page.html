<ion-header>
  <ion-toolbar>
    <!-- back button -->
    <ion-buttons slot="start">
      <ion-icon name="arrow-dropleft" style="zoom: 1.5;" [routerLink]="['/mine']"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-refresher (ionRefresh)="refresh($event)" slot="fixed" pullMin=120>
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-card>
    <ion-grid>
      <!-- <ion-row (click)="toLogin()" style="border-bottom-style: double;">
        <ion-col size=3>
          <ion-avatar style="width: 66px; height: 66px; margin: 5px;">
              <img [src]="curAvatarUrl">
          </ion-avatar>
        </ion-col>
        <ion-col size=7.5 class="ion-align-self-center ion-text-center">
          <ion-label>
              <b style="font-size: 22px;">{{curDisplayName}}</b>
          </ion-label>
        </ion-col>
        <ion-col size=1.5 class="ion-align-self-center ion-text-center" style="padding-left: 0;">
          <ion-icon name="settings" style="zoom: 2; color: gray;"></ion-icon>
        </ion-col>
      </ion-row> -->
      <ion-row class=test style="text-align: center;">
        <!-- circle bar -->
        <ion-col class=test size="3">
          <circle-progress [percent]="pValueStr" [imageSrc]="curAvatarUrl">
          </circle-progress>
        </ion-col>
        <!-- details -->
        <ion-col class=test>
    
          <ion-row class=test style="height: 3vh;">
          <p style="font-size: small; margin-top: 0;">{{curDisplayName}}</p>
          </ion-row >
    
          <ion-row class=test>
            <ion-icon name="medal"></ion-icon>
            <ion-icon name="medal"></ion-icon>
            <ion-icon name="medal"></ion-icon>
            <ion-icon name="medal"></ion-icon>
            <ion-icon name="medal"></ion-icon>
          </ion-row>
          <ion-row class=test style="height: 3vh;">
            <p style="font-size: small; margin-top: 0;">&nbsp;</p>
          </ion-row>
          <ion-row class=test style="height: 3vh;">
            <p style="font-size: small; margin-top: 0;">  资料完整度 {{pValueStr}}%</p>
          </ion-row>
        </ion-col>
    
        <ion-col class=test size="2" >
          <ion-icon (click)="presentBasicInfoEditModal()" name="create" style="zoom: 2; color: gray;"></ion-icon>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-slides [options] = "sliderOpts" pager="true" (ionSlidesDidLoad)="slidesDidLoad(adv)">
          <ion-slide style="max-height: 25vh">
            <ion-list style="width: 100%;">
              <ion-item lines="full">
                姓名: {{curUserDoc.displayName}}
              </ion-item>
              <ion-item lines="full">
                性别: {{curUserDoc.gender}}
              </ion-item>
              <ion-item lines="full">
                邮箱: {{curUserDoc.email}}
              </ion-item>
              <ion-item lines="full">
                手机: {{curUserDoc.mobile}}
              </ion-item>
            </ion-list>
          </ion-slide>
          <ion-slide style="max-height: 25vh">
            <ion-list style="width: 100%;">
              <ion-item lines="full">
                期望职业: {{curUserDoc.preferJob}}
              </ion-item>
              <ion-item lines="full">
                期望地点: {{curUserDoc.preferLocation}}
              </ion-item>
              <ion-item lines="full">
                期望薪资: {{curUserDoc.preferSalary}}
              </ion-item>
              <ion-item lines="full">
                已工作年数: {{curUserDoc.workYear}}
              </ion-item>
            </ion-list>
          </ion-slide>
        </ion-slides> 
      </ion-row>
      <!-- <div *ngIf="isLogged">
        <ion-row>
          <ion-col>
            <ion-chip>
              <ion-avatar>
                  <img src="../../assets/wechat.png">
              </ion-avatar>
              <ion-label #wechatID>{{curUserDoc.wechat}}</ion-label>
            </ion-chip>
          </ion-col> 
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-chip>
              <ion-icon name="call"></ion-icon>
              <ion-label>{{curUserDoc.mobile}}</ion-label>
            </ion-chip>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-chip>
              <ion-icon name="mail"></ion-icon>
              <ion-label>{{curUserDoc.email}}</ion-label>
            </ion-chip>
          </ion-col>
        </ion-row>
      </div> -->
    </ion-grid>
  </ion-card>
  <!-- <div style="border-bottom: solid grey 2px; margin-top: 2vh;">
    <ion-row style=" height: 18vh; ">
      <ion-col size="3" style=" height: 18vh; margin-left: 2vw;">
        <ion-avatar style="width: 66px; height: 66px; margin: 5px;">
          <img [src]="curAvatarUrl">
        </ion-avatar>
      </ion-col>

      <ion-col size="7" style=" height: 18vh;">

        <ion-row style=" height: 3vh;  margin: auto; margin-bottom: 0.5vh;">
          <p style="margin-top: auto; font-size: large; "> <b>{{title}} {{name}} </b></p>
        </ion-row>

        <ion-row style=" height: 3vh;  margin: auto; margin-bottom: 0.5vh;">
            <ion-chip style="margin: auto; height: 3vh;" *ngFor="let s of skills" > 
                <ion-label>{{s}}</ion-label>
            </ion-chip>
        </ion-row>

        <ion-row style=" height: 3vh; margin: auto; margin-bottom: 0.5vh;">
          <p style="margin-top: auto; font-size: medium; "> 
            <ion-icon src="../assets/icon/mail.svg"></ion-icon> 
             &nbsp; {{email}}
          </p>
        </ion-row>

        <ion-row style=" height: 3vh;  margin: auto; margin-bottom: 0.5vh;">
          <p style="margin-top: auto; font-size: medium; "> 
            <ion-icon src="../assets/icon/phone.svg"></ion-icon> 
             &nbsp; {{phone}}
          </p>
        </ion-row>

        <ion-row style=" height: 3vh; margin: auto; margin-bottom: 0.5vh;">
          <p style="margin-top: auto; font-size: medium; "> 
            <ion-icon src="../assets/icon/wechat.svg" ></ion-icon> 
             &nbsp; {{phone}}
          </p>
        </ion-row>

      </ion-col>

      <ion-col>
        <ion-icon name="settings" style="zoom: 2; color: gray;"></ion-icon>
      </ion-col>
    </ion-row>
  </div> -->
  <ion-item lines="none">
    <ion-label slot="start">公开简历</ion-label>
    <ion-toggle slot="end"></ion-toggle>
  </ion-item>
  <!-- <div style="width: 96vw; margin:auto; margin-top: 1vh;">
    <b>资料完整度: &nbsp;&nbsp; {{pValueStr}}%</b>
    <ion-progress-bar [value]="pValue" [color]="pColor" style="height: 2vh; margin-bottom: 3vh; margin-top: 1vh;"></ion-progress-bar>
  </div> -->


  <div>
    <!-- <ion-card style="border: solid 1px;  width: 98vw; margin: auto; margin-bottom: 1vh;"> 
      <ion-row>
        <ion-col size="10.5" >
          <div>
             <b style="vertical-align:middle; margin-left: 1vw;">技能</b>
          </div>
          
          <div>
            <ion-chip style="margin: auto; margin-left: 1vw;" *ngFor="let s of skills" > 
              <ion-label>{{s}}</ion-label>
            </ion-chip>
          </div>
         
        </ion-col>
       

        <ion-col style="margin:auto">
          <ion-icon style="margin:auto; font-size: 5vw;" name="create" (click)="editSkills($event)"></ion-icon>
        </ion-col>
        
      </ion-row>
        

 
    </ion-card>

    <ion-card #workExp style="border: solid 1px;  width: 98vw; margin: auto; margin-bottom: 1.5vh;">
        <ion-row (click)="presentInfoEditModal($event)">
            <ion-col size="10.5" >
              <div>
                 <b style="vertical-align:middle; margin-left: 1vw;">工作经验</b>
              </div>
            </ion-col>
           
    
            <ion-col style="margin:auto">
              <ion-icon style="margin:auto; font-size: 5vw;"  name="create"></ion-icon>
            </ion-col>
          </ion-row>
    </ion-card>

    <ion-card  (click)="presentInfoEditModal($event)" #eduExp style="border: solid 1px;  width: 98vw; margin: auto; margin-bottom: 1.5vh;">
        <ion-row>
            <ion-col size="10.5" >
              <div>
                 <b style="vertical-align:middle; margin-left: 1vw;">教育经历</b>
              </div>
            </ion-col>
           
    
            <ion-col style="margin:auto">
              <ion-icon style="margin:auto; font-size: 5vw;" name="create"></ion-icon>
            </ion-col>
          </ion-row>
    </ion-card>

    <ion-card #projExp style="border: solid 1px;  width: 98vw; margin: auto; margin-bottom: 1.5vh;">
        <ion-row (click)="presentInfoEditModal($event)">
            <ion-col size="10.5" >
              <div>
                 <b style="vertical-align:middle; margin-left: 1vw;">项目经历</b>
              </div>
            </ion-col>
           
    
            <ion-col style="margin:auto">
              <ion-icon style="margin:auto; font-size: 5vw;" name="create"></ion-icon>
            </ion-col>
          </ion-row>
    </ion-card>

    <ion-card #honor style="border: solid 1px;  width: 98vw; margin: auto; margin-bottom: 1.5vh;">
        <ion-row (click)="presentInfoEditModal($event)">
            <ion-col size="10.5" >
              <div>
                 <b style="vertical-align:middle; margin-left: 1vw;">个人荣誉</b>
              </div>
            </ion-col>
           
    
            <ion-col style="margin:auto">
              <ion-icon style="margin:auto; font-size: 5vw;" name="create"></ion-icon>
            </ion-col>
          </ion-row>
    </ion-card>

    <ion-card #file style="border: solid 1px;  width: 98vw; margin: auto; margin-bottom: 1.5vh;">
        <ion-row (click)="presentInfoEditModal($event)">
            <ion-col size="10.5" >
              <div>
                 <b style="vertical-align:middle; margin-left: 1vw;">附件</b>
              </div>
            </ion-col>
           
    
            <ion-col style="margin:auto">
              <ion-icon style="margin:auto; font-size: 5vw;" name="create"></ion-icon>
            </ion-col>
          </ion-row>
    </ion-card>

    <ion-card #description style="border: solid 1px;  width: 98vw; margin: auto; margin-bottom: 1.5vh;">
        <ion-row (click)="presentInfoEditModal($event)">
            <ion-col size="10.5" >
              <div>
                 <b style="vertical-align:middle; margin-left: 1vw;">个人简介</b>
              </div>
            </ion-col>
           
    
            <ion-col style="margin:auto">
              <ion-icon style="margin:auto; font-size: 5vw;" name="create"></ion-icon>
            </ion-col>
          </ion-row>
    </ion-card> -->
    <ion-card>
      <div *ngFor="let link of links">
        <ion-item lines="none" (click)="presentInfoEditModal(link)">
          <ion-label slot="start"><b>{{link.name}}</b></ion-label>
          <ion-icon slot="end" name="create"></ion-icon>
        </ion-item>
        <ion-item lines="none" *ngIf="curUserDoc[link.type].length==0">
          <ion-chip color="tertiary">暂无数据，快来添加吧</ion-chip>
        </ion-item>
        <ion-item lines="none" *ngIf="curUserDoc[link.type].length>0 && link.type!='files'">
          <div *ngIf="!['files','description'].includes(link.type)">
            <ion-chip *ngFor="let item of curUserDoc[link.type]">{{item | resumePreview: link.type}}</ion-chip>
          </div>
          <div *ngIf="link.type=='description'" style="margin-left: 4px; padding-left: 12px;">
            {{curUserDoc.description}}
          </div>
        </ion-item>
        <ion-item-divider></ion-item-divider>
      </div>
    </ion-card>


  </div>
</ion-content>